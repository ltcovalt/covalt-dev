---
const { post, class: classes } = Astro.props;
const baseClass = 'group relative rounded-xl bg-base-200 border border-base-300';
const hoverClass = 'hover:border-base-content/10 hover:scale-105';
const alignClass = 'flex flex-col gap-4 p-4 min-h-[16em]';
const textClass = 'text-center text-base-content/50';
const transitionClass = 'transition-all duration-400';
---

<div class={`${baseClass} ${hoverClass} ${alignClass} ${textClass} ${transitionClass} ${classes}`}>
	<a href=`/posts/${post.data.slug}` class="absolute inset-0 z-10" aria-label={post.data.title}></a>

	<!-- Titlebar -->
	<div class="flex h-[3em] max-h-[3em] min-h-[3em] items-center justify-center">
		<div class="group-hover:text-base-content line-clamp-2 text-3xl leading-tight font-extrabold">
			{post.data.title}
		</div>
	</div>

	<!-- underline animation -->
	<div
		class={`group-hover:bg-secondary mx-auto h-0.5 w-0 rounded-xl bg-transparent group-hover:w-[25%] ${transitionClass}`}
	>
	</div>

	<!-- body content -->
	<div class="flex flex-1 flex-col justify-center">
		<div
			class={`mt-4 mx-auto text-base-content/30 group-hover:text-base-content/70 max-w-[60ch] ${transitionClass}`}
		>
			{post.data.description}
		</div>
	</div>

	<!-- footer -->
	<div class="text-base-content/20 mt-auto text-left text-sm">
		{post.data.date.toISOString().slice(0, 10)}
	</div>
</div>
